{% extends "base.html" %}
{% load account allauth i18n %}
{% block head_title %}
    {% translate "Password Reset" %}
{% endblock head_title %}

{% block content %}
    <h1 class="mb-8 text-3xl font-bold text-center text-blue-400">{% translate "Password Reset" %}</h1>
    {% if user.is_authenticated %}
        {% include "account/snippets/already_logged_in.html" %}
    {% endif %}
    <p class="mb-6 text-center text-gray-300">
        {% translate "Forgotten your password? Enter your email address below, and we'll send you an email allowing you to reset it." %}
    </p>
    <form method="post"
          action="{% url 'account_reset_password' %}"
          class="p-8 mx-auto space-y-8 max-w-md bg-gray-800 rounded-xl border border-gray-700 shadow-lg">
        {% csrf_token %}
        {% for field in form.visible_fields %}
            <div class="flex flex-col gap-1 mb-6">
                <label for="{{ field.id_for_label }}" class="font-medium text-gray-300">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}<p class="text-xs text-gray-400">{{ field.help_text }}</p>{% endif %}
                {% for error in field.errors %}<p class="text-xs text-red-400">{{ error }}</p>{% endfor %}
            </div>
        {% endfor %}
        {% for field in form.hidden_fields %}{{ field }}{% endfor %}
        {{ redirect_field }}
        <div class="mt-10">
            <button type="submit"
                    class="py-2 px-4 w-full font-semibold text-white bg-blue-500 rounded-lg transition hover:bg-blue-600 focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed">
                {% translate 'Reset My Password' %}
            </button>
        </div>
    </form>
    <p class="mt-8 text-center text-gray-400">
        {% blocktranslate %}Please contact us if you have any trouble resetting your password.{% endblocktranslate %}
    </p>
{% endblock content %}
