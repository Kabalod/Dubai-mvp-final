<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description"
              content="A realty website providing the best property listings." />
        <meta name="keywords"
              content="realty, properties, real estate, homes, apartments" />

        <title>
            {% block head_title %}
                Realty Website
            {% endblock head_title %}
        </title>

  <!--  Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap" rel="stylesheet" />

        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
  /* ───── RESET ───── */
  @layer reset{
  *,*::before,*::after{box-sizing:border-box;margin:0}
  html{min-height:100%;text-size-adjust:none;-webkit-text-size-adjust:none}
  body{min-height:100dvh;font-synthesis:none;-webkit-font-smoothing:antialiased}
  ol,ul{list-style:none;padding:0}
  a{text-decoration:none;color:inherit}
  img,svg,video,canvas{display:block;max-width:100%}}

  /* ───── TOKENS ───── */
  :root{
   --c-bg:#fff;          --c-surface:#f3f4f5;
   --c-text:#03030a;     --c-muted:#82808e;
   --c-accent:#335cff;   --c-accent-bg:#e9edff;
   --ff-body:"Onest",sans-serif;
  }

  /* ───── GLOBAL ───── */
  body{font-family:var(--ff-body);background:var(--c-bg);color:var(--c-text)}
  .container{max-width:1440px;margin-inline:auto;padding-inline:1rem}

  /* ───── NAV BAR ───── */
  .header{background:var(--c-surface);border-bottom:1px solid #e3e6e8}
  .header__inner{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}
  .nav{display:flex;gap:2rem;align-items:center}
  .logo{font-size:1.45rem;font-weight:700;color:var(--c-accent)}
  .nav a:hover{color:var(--c-accent)}
  .button{padding:.45rem 1.4rem;border:none;border-radius:25px;font-size:.9rem;cursor:pointer;background:var(--c-accent);color:#fff}
  .button--ghost{background:transparent;color:var(--c-accent);border:1px solid var(--c-accent)}
  .button:hover,.button--ghost:hover{opacity:.9}

  /* маленькая метка-бейдж возле пункта меню */
  .tag{
    display:inline-block;
    margin-left:.4rem;
    padding:.1rem .45rem;
    font-size:.65rem;
    font-weight:600;
    border-radius:12px;
    background:var(--c-accent);
    color:#fff;
    text-transform:uppercase;
    letter-spacing:.03em;
  }

  /* ───── MESSAGES ───── */
  .messages{max-width:640px;margin:1rem auto}
  .msg{padding:.85rem 1rem;background:var(--c-accent-bg);color:var(--c-accent);border:1px solid var(--c-accent);border-radius:8px}

  /* ───── MAIN ───── */
  main{padding-block:2rem}

  /* === FILTERS (Rental switch) ===================================== */
  .filters__wrapper{display:flex;flex-direction:column}
  .filters .rental{display:flex;gap:1rem;border-bottom:1px solid #e3e6e8;padding-bottom:3.6rem}
  @media(max-width:768px){.filters .rental{flex-direction:column}}

  .filters .rental__item{flex:1;border:1px solid #e3e6e8;border-radius:1.2rem;padding:1rem;cursor:pointer;background:#fff;position:relative}
  .filters .rental__input{position:absolute;opacity:0;height:0;width:0}
  .filters .rental__header{display:flex;align-items:center;gap:1rem;width:100%;margin-bottom:1.5rem}

  .filters .rental__cinput{display:inline-block;width:1.2rem;height:1.2rem;border:1px solid #e3e6e8;border-radius:50%;position:relative}
  .filters .rental__cinput:after{content:"";position:absolute;left:6px;top:2px;width:5px;height:10px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg)}
  .filters .rental__item:has(input:checked){border-color:var(--c-accent)}
  .filters .rental__item input:checked~.rental__header .rental__cinput{background:var(--c-accent);border-color:transparent}

  .filters .rental__title{font:600 1.2rem var(--ff-body);color:#000}
  .filters .rental__image{display:flex;align-items:baseline;gap:2rem;margin-left:auto;position:relative;overflow:hidden}
  .filters .rental__image:has(img:nth-child(2))::after{content:"";position:absolute;top:0;left:50%;width:1px;height:100%;max-height:28px;background:#e3e6e8}

  .filters .rental__nav{display:flex;gap:.9rem;font:.95rem var(--ff-body);color:var(--c-text);margin-bottom:1rem}
  .filters .rental__nav-item.active{color:var(--c-accent)}
  .filters .rental__desc{font-size:.88rem;color:var(--c-muted);padding-top:.5rem;border-top:1px solid #e3e6e8}
  /* ───── АНИМИРОВАННЫЙ ГРАДИЕНТ ДЛЯ ЛОГО ───── */
.logo{
  background:linear-gradient(90deg,#0077FF 0%,#FF007B 56.25%,#FF0085 100%);
  background-size:200% auto;               /* полотно шире, чтобы было что «ездить» */
  -webkit-background-clip:text;
          background-clip:text;
  color:transparent;                       /* текст виден только за счёт background-clip */
  animation:logo-gradient 4s linear infinite;
}

@keyframes logo-gradient{
  0%   {background-position:0% 50%;}
  100% {background-position:100% 50%;}
}
/* перелив градиента + базовое позиционирование */
.logo{
  position:relative;
  font-size:1.45rem;font-weight:700;
  background:linear-gradient(90deg,#0077FF 0%,#FF007B 56.25%,#FF0085 100%);
  background-size:200% auto;-webkit-background-clip:text;background-clip:text;
  color:transparent;animation:logoGradient 4s linear infinite;
  display:inline-block;overflow:hidden;
}
@keyframes logoGradient{from{background-position:0% 50%}to{background-position:100% 50%}}

.bracket{
  position:absolute;top:0;font-weight:700;pointer-events:none;
  -webkit-background-clip:text;background-clip:text;color:transparent;background:inherit;
}
.bracket-l{left:-100vw;}   /* старт – за левым краем */
.bracket-r{left:100vw;}    /* старт – за правым краем */

/* чтобы слово плавно «сменило» x → X после прибытия скобок */
.swapX{transition:all .5s ease;font-variant:small-caps;}

  </style>

        {% block extra_head %}
        {% endblock extra_head %}
    </head>
    <!-- Top Navigation Bar -->
     <header class="header">
       <div class="container header__inner">
         <div class="nav">
           <a href="/" class="logo">
             <span class="bracket bracket-l">[</span>
             <span class="logo-text" id="logoWord">Propertix</span>
             <span class="bracket bracket-r">]</span>
           </a>
         </div>





       <ul class="nav">
              {# пример вывода меток; можно убрать <span class="tag">…</span> если не нужна #}
              <li><a href="#" class="nav__link">Database<span class="tag">DLD</span></a></li>
              <li><a href="#" class="nav__link">Analytics<span class="tag">NEW</span></a></li>
              <li><a href="r2d2" class="nav__link">Reports</a></li>
              <li><a href="agentai" class="nav__link">Ai-agent</a></li>

              {% if user.is_authenticated %}
                <li><a href="{% url 'account_logout' %}" class="button button--ghost">Sign Out</a></li>
                <a href="/" class="logo"> <span class="logo-text" id="logoWord">Profile</span></a>
              {% else %}
                <li><a href="{% url 'account_login' %}"  class="button button--ghost">Sign In</a></li>
                <li><a href="{% url 'account_signup' %}" class="button">Sign Up</a></li>
              {% endif %}
            </ul>
          </div>



     </header>

    <body class="font-sans text-gray-100 bg-gray-900">

        <!-- Messages Section -->
        {% if messages %}
            <div>
                <ul>
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        {% block content %}
        {% endblock content %}
        {% block extra_body %}
        {% endblock extra_body %}<script>
document.addEventListener('DOMContentLoaded', () => {
  const logo   = document.querySelector('.logo');
  const textEl = document.getElementById('logoWord');
  const leftB  = logo.querySelector('.bracket-l');
  const rightB = logo.querySelector('.bracket-r');

  /* вычисляем, куда должны «прилететь» скобки */
  const placeBrackets = () => {
    const textRect  = textEl.getBoundingClientRect();
    const logoRect  = logo.getBoundingClientRect();
    return {
      leftTarget : textRect.left - logoRect.left - 8,              // маленький зазор
      rightTarget: textRect.right - logoRect.left + 8
    };
  };

  const { leftTarget, rightTarget } = placeBrackets();

  /* анимация: бегут из-за краёв экрана → свои координаты */
  leftB.animate(
    [{ left: '-100vw' }, { left: `${leftTarget}px` }],
    { duration: 1000, easing: 'ease-out', fill: 'forwards' }
  );

  rightB.animate(
    [{ left: '100vw'  }, { left: `${rightTarget}px` }],
    { duration: 1000, easing: 'ease-out', fill: 'forwards' }
  ).onfinish = () => {
    /* спустя 0.5 с меняем x → X */
    setTimeout(() => textEl.classList.add('swapX'), 500);
  };

  /* меняем символ после CSS-transition, чтобы не мигал */
  textEl.addEventListener('transitionend', () => {
    textEl.textContent = 'PropertiX';
  }, { once:true });
});
</script>
</body>
</html>
