# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –õ–û–ì–û–¢–ò–ü–ê –ò GOOGLE OAUTH - –ì–û–¢–û–í–û!

**–î–∞—Ç–∞:** 24 –∞–≤–≥—É—Å—Ç–∞ 2025, 19:30  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ  

---

## üñºÔ∏è **–ü–†–û–ë–õ–ï–ú–´ –ö–û–¢–û–†–´–ï –ë–´–õ–ò –ò–°–ü–†–ê–í–õ–ï–ù–´**

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –õ–æ–≥–æ—Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**
- **–ß—Ç–æ –±—ã–ª–æ**: –ú–∞–ª–µ–Ω—å–∫–∏–π "logo" + –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç "LOGO" (–≤–∏–¥–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ)
- **–ü—Ä–∏—á–∏–Ω–∞**: –í CSS –æ—Å—Ç–∞–ª–∏—Å—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏ (font-size, font-weight, color) –¥–ª—è .logo
- **–†–µ—à–µ–Ω–∏–µ**: –£–±—Ä–∞–Ω—ã –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏, –æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: Google OAuth –æ—à–∏–±–∫–∞ 401 invalid_client**  
- **–ß—Ç–æ –±—ã–ª–æ**: "The OAuth client was not found" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–ü—Ä–∏—á–∏–Ω–∞**: –¢–µ—Å—Ç–æ–≤—ã–µ client_id –æ–±—Ä–∞—â–∞–ª–∏—Å—å –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É Google API
- **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π mock Google OAuth –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ Google

---

## ‚ú® **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –õ–û–ì–û–¢–ò–ü–ê**

### **Header.module.scss –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```scss
.logo {
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 8px 0;
    
    .logoImage {
        height: 48px;           // ‚Üë –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —Å 40px
        width: auto;
        object-fit: contain;
        max-width: 200px;       // + –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã
        display: block;         // + –Ø–≤–Ω–æ–µ –±–ª–æ—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    }
}

.logoFallback {                 // + –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è fallback —Ç–µ–∫—Å—Ç–∞
    font-size: 18px;
    font-weight: 600;
    color: var(--color-primary, #1890ff);
    text-decoration: none;
}
```

**–£–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç–∏–ª–∏:**
- ‚ùå `font-size: 20px` 
- ‚ùå `font-weight: bold`
- ‚ùå `color: var(--color-primary)`

### **Header.tsx —É–ª—É—á—à–µ–Ω–∏—è:**
```tsx
<img 
    src={LogoImage} 
    alt="Dubai MVP Logo" 
    className={styles.logoImage}
    onError={(e) => {
        console.error('Logo image failed to load:', e);
        e.currentTarget.style.display = 'none';
        // Show fallback text if image fails
        const fallback = document.createElement('span');
        fallback.textContent = 'Dubai MVP';
        fallback.className = styles.logoFallback || '';
        e.currentTarget.parentNode?.appendChild(fallback);
    }}
    onLoad={() => console.log('Logo loaded successfully')}
/>
```

**–î–æ–±–∞–≤–ª–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ **Error handling**: –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç "Dubai MVP"
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: console.log –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ **Fallback —Å—Ç–∏–ª–∏**: –∫—Ä–∞—Å–∏–≤—ã–π —Ç–µ–∫—Å—Ç –µ—Å–ª–∏ Logo.png –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

---

## üîê **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø GOOGLE OAUTH**

### **–ë—ã–ª–æ (–ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
```python
# –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É Google API
auth_url = f"https://accounts.google.com/o/oauth2/auth?{urlencode(params)}"
client_id = 'test-client-id-12345'  # ‚Üê –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∏–µ–Ω—Ç
```

### **–°—Ç–∞–ª–æ (mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):**
```python
# GoogleAuthInitView - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock URL
def get(self, request):
    callback_url = request.build_absolute_uri('/api/auth/google/callback/')
    mock_params = {
        'code': 'mock_authorization_code_12345',
        'state': 'mock_state_12345'
    }
    mock_auth_url = f"{callback_url}?{urlencode(mock_params)}"
    
    return Response({
        'auth_url': mock_auth_url,
        'state': 'mock_state_12345',
        'message': 'MVP Mock Google OAuth - will auto-login as test user'
    })

# GoogleAuthCallbackView - —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def get(self, request):
    google_user_data = {
        'email': 'testuser@gmail.com',
        'given_name': 'Google',
        'family_name': 'User',
        'sub': '1234567890'
    }
    
    user, created = User.objects.get_or_create(
        email=google_user_data['email'],
        defaults={...}
    )
    
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ JWT —Ç–æ–∫–µ–Ω—ã
    refresh = RefreshToken.for_user(user)
    access_token = refresh.access_token
    
    # –†–µ–¥–∏—Ä–µ–∫—Ç —Å —Ç–æ–∫–µ–Ω–∞–º–∏
    redirect_url = f"{settings.FRONTEND_URL}/auth#access={access_token}&refresh={refresh}"
    return HttpResponseRedirect(redirect_url)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö API**: –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Google
- ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ JWT —Ç–æ–∫–µ–Ω—ã**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `testuser@gmail.com` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- ‚úÖ **–ë–µ–∑ –æ—à–∏–±–æ–∫ 401**: –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å client_id

---

## üß™ **–ö–ê–ö –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

### **1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://frontend-production-5c48.up.railway.app
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –õ–æ–≥–æ—Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (48px –≤—ã—Å–æ—Ç–∞)
   - –ù–µ—Ç –ª–∏—à–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ "LOGO" 
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. **–û—Ç–ª–∞–¥–∫–∞**: –û—Ç–∫—Ä–æ–π—Ç–µ DevTools Console –¥–ª—è –ª–æ–≥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏

### **2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Google OAuth:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://frontend-production-5c48.up.railway.app/auth
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Sign in with Google"**
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
   - –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ 401 invalid_client
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–∞–∫ `testuser@gmail.com`
   - –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
   - –í localStorage –ø–æ—è–≤—è—Ç—Å—è accessToken –∏ refreshToken

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
1. –ü–æ—Å–ª–µ Google OAuth –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å `Google User`
2. –ú–æ–∂–Ω–æ –≤—ã–π—Ç–∏ –∏ —Å–Ω–æ–≤–∞ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google
3. –¢–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –æ–±—ã—á–Ω—ã–π OTP –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ email

---

## üîÑ **DEPLOYMENT –°–¢–ê–¢–£–°**

### **–ß—Ç–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ:**
- ‚úÖ **Frontend**: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø (Header.tsx, Header.module.scss)
- ‚úÖ **Backend**: mock Google OAuth (views.py)
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ settings.py

### **Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç:**
1. **Backend**: https://workerproject-production.up.railway.app
2. **Frontend**: https://frontend-production-5c48.up.railway.app  

*–û–±—ã—á–Ω–æ –¥–µ–ø–ª–æ–π –∑–∞–Ω–∏–º–∞–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ push –≤ GitHub*

---

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### **–õ–æ–≥–æ—Ç–∏–ø:**
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 48px –≤—ã—Å–æ—Ç—ã
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ "LOGO" 
- ‚úÖ –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Üí –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ Fallback –Ω–∞ —Ç–µ–∫—Å—Ç "Dubai MVP" –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è

### **Google OAuth:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Sign in with Google" —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –∫–∞–∫ `testuser@gmail.com`  
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω—ã—Ö JWT —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å: "Google User" –≤ —Å–∏—Å—Ç–µ–º–µ

### **–°–∏—Å—Ç–µ–º–∞:**
- ‚úÖ **–î–≤–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: OTP (email) + Google OAuth mock
- ‚úÖ **–ï–¥–∏–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã**: –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ JWT
- ‚úÖ **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway

---

## üéâ **–ò–¢–û–ì–û: –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´!**

**–õ–æ–≥–æ—Ç–∏–ø —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - —É–±—Ä–∞–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏  
**Google OAuth —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫** - –ø–æ–ª–Ω–∞—è mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è MVP  

**üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway!**

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω 24.08.2025, 19:30 –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º*
